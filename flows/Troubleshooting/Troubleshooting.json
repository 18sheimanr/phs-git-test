{
  "name": "7a41ea29-fda5-4564-b3b7-e91ca6513453",
  "displayName": "Troubleshooting",
  "transitionRoutes": [ {
    "intent": "troubleshooting.cancel",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Okay, if you need to describe a problem just say \"troubleshooting\". Is there anything else I can help you with?" ]
        },
        "languageCode": "en"
      } ],
      "nextActionOverride": {
      
      }
    },
    "targetPage": "End Flow",
    "name": "bd202f9d-a314-41ec-b1b1-28c66e21cecb"
  }, {
    "intent": "troubleshooting.other",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "Pleases describe the issue(s) you are experiencing" ]
        },
        "languageCode": "en"
      } ],
      "nextActionOverride": {
      
      }
    },
    "name": "da4c8703-7bdb-47e5-b02e-df2f3b8b10d7",
    "description": "When a user clicks other, "
  }, {
    "condition": "$flow.troubleshooting-state = \"initialized\"",
    "triggerFulfillment": {
      "generators": [ {
        "generator": "projects/develop-251413/locations/us-central1/agents/c527bdd2-6892-4b0b-b6e7-63f05d582de5/generators/dca2055e-3282-4332-9183-9eaf5aac30ab",
        "outputParameter": "$request.generative.output"
      } ],
      "nextActionOverride": {
      
      }
    },
    "name": "f424dd56-a911-401d-a8db-69813fe24cdd"
  }, {
    "condition": "$request.generative.output = \"care\\.get-urgent-bh\\n\" OR $request.generative.output = \"care\\.get-bh\\n\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Get Care Urgent BH",
    "name": "c5bbf7a7-11a3-400d-952d-9ea40f45025b"
  }, {
    "condition": "$request.generative.output = \"care\\.get-urgent\\n\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Get Care Urgent",
    "name": "75715c19-4dad-4bca-985d-143786b82625"
  }, {
    "condition": "$request.generative.output = \"care\\.get\\n\"",
    "triggerFulfillment": {
    
    },
    "targetFlow": "Get Care",
    "name": "fd49bea6-e010-4434-b8f9-381652fc30d7"
  }, {
    "condition": "$flow.troubleshooting-state = null",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I can help with that. Can you describe the issue to me?" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "Here are some common issues:" ]
        },
        "languageCode": "en"
      }, {
        "payload": {
          "richContent": [ [ {
            "options": [ {
              "text": "My Apple Watch has stopped linking my steps to the app?"
            }, {
              "text": "How do I update my email preferences?"
            }, {
              "text": "My Fitbit is connected, but it is not showing any data?"
            }, {
              "text": "Other"
            }, {
              "text": "Cancel"
            } ],
            "type": "chips"
          } ] ]
        },
        "languageCode": "en"
      } ],
      "setParameterActions": [ {
        "parameter": "$flow.troubleshooting-state",
        "value": "initialized"
      } ],
      "nextActionOverride": {
      
      }
    },
    "name": "b388bd44-d030-44e9-8aec-33d32f9cfac4"
  } ],
  "eventHandlers": [ {
    "targetPage": "no-match",
    "event": "sys.no-match-default",
    "triggerFulfillment": {
      "generators": [ {
        "generator": "projects/develop-251413/locations/us-central1/agents/c527bdd2-6892-4b0b-b6e7-63f05d582de5/generators/dca2055e-3282-4332-9183-9eaf5aac30ab",
        "outputParameter": "$request.generative.output"
      } ],
      "nextActionOverride": {
      
      }
    },
    "name": "49bedfc8-f1b8-4a72-a60f-9d44a072c7e1"
  }, {
    "event": "sys.no-input-default",
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "I didn't get that. Can you say it again?", "I missed what you said. What was that?", "Sorry, could you say that again?", "Sorry, can you say that again?", "Can you say that again?", "Sorry, I didn't get that. Can you rephrase?", "Sorry, what was that?", "One more time?", "What was that?", "Say that one more time?", "I didn't get that. Can you repeat?", "I missed that, say that again?" ]
        },
        "languageCode": "en"
      } ]
    },
    "name": "9e7f72bd-4ddf-4c41-bb62-3af5b09d669b"
  }, {
    "targetPage": "End Flow",
    "event": "flow.cancelled",
    "triggerFulfillment": {
    
    },
    "name": "b879ae23-cb57-4248-9f0f-1fa7c49d8158"
  } ],
  "nluSettings": {
    "modelType": "MODEL_TYPE_ADVANCED",
    "classificationThreshold": 0.30000001,
    "modelTrainingMode": "MODEL_TRAINING_MODE_MANUAL"
  },
  "knowledgeConnectorSettings": {
    "enabled": true,
    "triggerFulfillment": {
      "messages": [ {
        "text": {
          "text": [ "$request.knowledge.answers[0]" ]
        },
        "languageCode": "en"
      }, {
        "text": {
          "text": [ "If you don't have any other questions, you can return to the conversation." ]
        },
        "languageCode": "en"
      }, {
        "payload": {
          "richContent": [ [ {
            "text": "Exit troubleshooting",
            "type": "button"
          } ] ]
        },
        "languageCode": "en"
      } ],
      "nextActionOverride": {
      
      }
    },
    "targetPage": "End Flow",
    "dataStoreConnections": [ {
      "dataStoreType": "STRUCTURED",
      "dataStore": "projects/170713538326/locations/us/collections/default_collection/dataStores/phs-faq-all-client_1724960611133",
      "languageCode": "en",
      "documentProcessingMode": "DOCUMENTS",
      "aclConfig": {
      
      }
    } ]
  },
  "nluSettingsList": [ {
    "modelType": "MODEL_TYPE_ADVANCED",
    "classificationThreshold": 0.30000001,
    "modelTrainingMode": "MODEL_TRAINING_MODE_MANUAL",
    "languageCode": "en"
  } ]
}
