{
  "name": "2d1350a5-b6d9-4a9c-8028-6509a56f9b81",
  "displayName": "Troubleshooting \"other\" \"cancel\" and emergency routing logic",
  "notes": "Make sure emergency intent match leads back to intent flow / exits troubleshooting. Also make sure \"other\" doesn't initial troubleshooting message.",
  "testCaseConversationTurns": [ {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "hi"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "$request.generative.output": "other\n"
      },
      "triggeredIntent": {
        "name": "default.welcome"
      },
      "currentPage": {
        "name": "Start Page",
        "flow": "Intent Flow"
      },
      "textResponses": [ {
        "text": [ "Welcome $session.params.member.firstName! Your experience here is important, and I'm here to make it easier for you. Whether you're looking for specific information or resources, or guidance, I can help point you in the right direction. " ]
      }, {
        "text": [ "How can I assist you today? Feel free to ask about your concerns, services, or site features, and I'll provide you with the support you need." ]
      }, {
        "text": [ "Hi. How can I be of service today?" ]
      } ],
      "currentFlow": {
        "name": "Intent Flow"
      },
      "actions": [ {
        "userUtterance": {
          "text": "hi"
        }
      }, {
        "agentUtterance": {
          "text": "Welcome $session.params.member.firstName! Your experience here is important, and I'm here to make it easier for you. Whether you're looking for specific information or resources, or guidance, I can help point you in the right direction. \nHow can I assist you today? Feel free to ask about your concerns, services, or site features, and I'll provide you with the support you need.\nHi. How can I be of service today?"
        }
      } ]
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "i need help troubleshooting"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "$flow.troubleshooting-state": "initialized",
        "$request.generative.output": "other\n"
      },
      "triggeredIntent": {
        "name": "troubleshooting"
      },
      "currentPage": {
        "name": "Start Page",
        "flow": "Troubleshooting"
      },
      "textResponses": [ {
        "text": [ "I can help you with that. Could you please describe the issue(s) you're experiencing?" ]
      }, {
        "text": [ "Here are some common issues:" ]
      }, {
        "text": [ "To exit troubleshooting, type CANCEL or EXIT at anytime." ]
      } ],
      "currentFlow": {
        "name": "Troubleshooting"
      },
      "actions": [ {
        "userUtterance": {
          "text": "i need help troubleshooting"
        }
      }, {
        "agentUtterance": {
          "text": "I can help you with that. Could you please describe the issue(s) you're experiencing?\nHere are some common issues:\nTo exit troubleshooting, type CANCEL or EXIT at anytime."
        }
      } ]
    },
    "expectations": {
      "expectedSessionParameters": [ {
        "key": "$flow.troubleshooting-state",
        "value": "initialized"
      } ]
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "other"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "$flow.troubleshooting-state": "initialized",
        "$request.generative.output": "other\n"
      },
      "triggeredIntent": {
        "name": "troubleshooting.other"
      },
      "currentPage": {
        "name": "Start Page",
        "flow": "Troubleshooting"
      },
      "textResponses": [ {
        "text": [ "Pleases describe the issue(s) you are experiencing" ]
      } ],
      "currentFlow": {
        "name": "Troubleshooting"
      },
      "actions": [ {
        "userUtterance": {
          "text": "other"
        }
      }, {
        "agentUtterance": {
          "text": "Pleases describe the issue(s) you are experiencing"
        }
      } ]
    },
    "expectations": {
      "expectedSessionParameters": [ {
        "key": "$flow.troubleshooting-state",
        "value": "initialized"
      } ]
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "i am going to hurt myself"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "$request.generative.output": "care.get-urgent-bh\n"
      },
      "currentPage": {
        "name": "Start Page",
        "flow": "Intent Flow"
      },
      "textResponses": [ {
        "text": [ "Based on what you've shared, there might be concern for your wellbeing. If you think you are experiencing an emergency, please call 911 immediately or go to the nearest hospital for help." ],
        "containAttemptedDataStoreInteractions": true
      }, {
        "text": [ "You can also contact the Suicide and Crisis hotline at 988 or 800-273-8255. They are available 24/7 to listen and provide support." ],
        "containAttemptedDataStoreInteractions": true
      } ],
      "currentFlow": {
        "name": "Intent Flow"
      },
      "actions": [ {
        "userUtterance": {
          "text": "i am going to hurt myself"
        }
      }, {
        "agentUtterance": {
          "text": "Based on what you've shared, there might be concern for your wellbeing. If you think you are experiencing an emergency, please call 911 immediately or go to the nearest hospital for help.\nYou can also contact the Suicide and Crisis hotline at 988 or 800-273-8255. They are available 24/7 to listen and provide support."
        }
      } ]
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "troubleshooting"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "sessionParameters": {
        "$flow.troubleshooting-state": "initialized",
        "$request.generative.output": "other\n"
      },
      "triggeredIntent": {
        "name": "troubleshooting"
      },
      "currentPage": {
        "name": "Start Page",
        "flow": "Troubleshooting"
      },
      "textResponses": [ {
        "text": [ "I can help you with that. Could you please describe the issue(s) you're experiencing?" ]
      }, {
        "text": [ "Here are some common issues:" ]
      }, {
        "text": [ "To exit troubleshooting, type CANCEL or EXIT at anytime." ]
      } ],
      "currentFlow": {
        "name": "Troubleshooting"
      },
      "actions": [ {
        "userUtterance": {
          "text": "troubleshooting"
        }
      }, {
        "agentUtterance": {
          "text": "I can help you with that. Could you please describe the issue(s) you're experiencing?\nHere are some common issues:\nTo exit troubleshooting, type CANCEL or EXIT at anytime."
        }
      } ]
    },
    "expectations": {
      "expectedSessionParameters": [ {
        "key": "$flow.troubleshooting-state",
        "value": "initialized"
      } ]
    }
  }, {
    "userInput": {
      "isWebhookEnabled": true,
      "input": {
        "text": {
          "text": "cancel"
        },
        "languageCode": "en"
      }
    },
    "virtualAgentOutput": {
      "triggeredIntent": {
        "name": "troubleshooting.cancel"
      },
      "currentPage": {
        "name": "Start Page",
        "flow": "Intent Flow"
      },
      "textResponses": [ {
        "text": [ "Okay, if you need to describe a problem just say \"troubleshooting\". Is there anything else I can help you with?" ]
      } ],
      "currentFlow": {
        "name": "Intent Flow"
      },
      "actions": [ {
        "userUtterance": {
          "text": "cancel"
        }
      }, {
        "agentUtterance": {
          "text": "Okay, if you need to describe a problem just say \"troubleshooting\". Is there anything else I can help you with?"
        }
      } ]
    }
  } ],
  "creationTime": {
    "seconds": 1728590206,
    "nanos": 890738000
  },
  "testConfig": {
    "trackingParameters": [ "$flow.troubleshooting-state" ],
    "flow": "Default Start Flow",
    "page": "Start Page"
  },
  "languageCode": "en"
}
